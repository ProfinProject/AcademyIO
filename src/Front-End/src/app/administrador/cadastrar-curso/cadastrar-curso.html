<header class="bg-light border-bottom">
  <div class="container py-3">
    <div class="d-flex flex-wrap justify-content-between align-items-center">
      <h1 class="h4 fw-bold text-dark mb-0">
        <i class="fas fa-plus-circle me-2" style="color: #02a102;"></i>
        Cadastrar Novo Curso
      </h1>
      <a routerLink="/painel-administrador" class="btn btn-outline-secondary btn-sm">
        <i class="fas fa-arrow-left me-1"></i>
        Voltar ao Painel
      </a>
    </div>
  </div>
</header>

<main class="py-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card border-0 shadow-sm rounded-3">
          <div class="card-body p-4 p-md-5">
            <form (ngSubmit)="onSubmit()" #courseForm="ngForm">

              <div class="mb-4">
                <label for="name" class="form-label fw-medium">Nome do Curso</label>
                <input type="text" id="name" name="name" class="form-control" [(ngModel)]="course.name" required>
              </div>

              <div class="mb-4">
                <label for="description" class="form-label fw-medium">Descrição</label>
                <textarea id="description" name="description" class="form-control" rows="4"
                  [(ngModel)]="course.description" required></textarea>
              </div>

              <div class="mb-4">
                <label for="price" class="form-label fw-medium">Preço (R$)</label>
                <div class="input-group">
                  <span class="input-group-text">R$</span>
                  <input type="number" id="price" name="price" class="form-control" [(ngModel)]="course.price" required
                    min="0">
                </div>
              </div>

              @if (errorMessage) {
              <div class="alert alert-danger">{{ errorMessage }}</div>
              }
              @if (successMessage) {
              <div class="alert alert-success">{{ successMessage }}</div>
              }

              <div class="d-grid">
                <button type="submit" class="btn btn-primary" [disabled]="isLoading || courseForm.invalid">
                  @if (isLoading) {
                  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  <span class="ms-2">Salvando...</span>
                  } @else {
                  <span>Salvar Curso</span>
                  }
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
